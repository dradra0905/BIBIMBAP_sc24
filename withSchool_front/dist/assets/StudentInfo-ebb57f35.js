import{r as l,b as r,j as e,L as k,l as f,F as o,I as S}from"./index-e6579e08.js";import{T as I}from"./tippy-react.esm-a8453acd.js";import{l as F,g as C,m as M}from"./parent-a5a27d9a.js";import{I as T}from"./IconHome-8599979b.js";import{I as j}from"./IconPhone-fbd69088.js";import{I as L}from"./IconTrashLines-34fd4ba6.js";import{$ as n}from"./tabs-1aa6e749.js";import{q as d,_ as b}from"./transition-80f3a448.js";import"./keyboard-f5d889b5.js";import"./use-resolve-button-type-0cfcefe6.js";import"./use-is-mounted-7d7d3758.js";import"./bugs-ce4da728.js";const A=()=>{const[h,c]=l.useState(!1),[m,g]=l.useState(""),[u,v]=l.useState([]),[s,p]=l.useState(""),[i,x]=l.useState("");l.useEffect(()=>{(async()=>{try{const a=await F();v(a),a.length>0&&(p(a[0].user.userId),localStorage.setItem("TargetStudent",a[0].user.userId))}catch(a){console.error("Error fetching student list:",a)}})()},[]),l.useEffect(()=>{(async()=>{try{if(s){const a=await C(s);localStorage.setItem("TargetStudent",s),x(a)}}catch(a){console.error("Error fetching student data:",a)}})()},[s]);const N=t=>{g(t.target.value)},w=async t=>{await M(t)?(alert("학생 연결이 완료되었습니다."),c(!1)):alert("학생 연결에 실패하였습니다.")},y=t=>{p(t),console.log(s)};return r("div",{children:[r("ul",{className:"flex space-x-2 rtl:space-x-reverse",children:[e("li",{children:e(k,{to:"/parent-home",className:"text-primary hover:underline",children:"학부모"})}),e("li",{className:"before:content-['/'] ltr:before:mr-2 rtl:before:ml-2",children:e("span",{children:"학생 정보"})})]}),e("div",{className:"panel",id:"icon_pills",children:e("div",{className:"mb-5",children:r(n.Group,{children:[r(n.List,{className:"mt-3 flex flex-wrap gap-2",children:[e(n,{as:l.Fragment,children:({selected:t})=>r("button",{className:`${t?"bg-warning text-white !outline-none":""}
                                                before:inline-block' -mb-[1px] flex items-center rounded p-3.5 py-2 hover:bg-warning hover:text-white`,children:[e(T,{className:"ltr:mr-2 rtl:ml-2"}),"기본정보"]})}),e(n,{as:l.Fragment,children:({selected:t})=>r("button",{className:`${t?"bg-warning text-white !outline-none":""}
                                                before:inline-block' -mb-[1px] flex items-center rounded p-3.5 py-2 hover:bg-warning hover:text-white`,children:[e(f,{className:"w-5 h-5 ltr:mr-2 rtl:ml-2"}),"성적조회"]})}),e(n,{as:l.Fragment,children:({selected:t})=>r("button",{className:`${t?"bg-warning text-white !outline-none":""}
                                                before:inline-block' -mb-[1px] flex items-center rounded p-3.5 py-2 hover:bg-warning hover:text-white`,children:[e(j,{className:"ltr:mr-2 rtl:ml-2"}),"학생선택"]})})]}),r(n.Panels,{children:[e(n.Panel,{children:e("div",{className:"active pt-5",children:u.length==0?e(o,{children:e("h1",{children:"연결된 학생이 없습니다."})}):e("div",{children:r("form",{className:"border border-[#ebedf2] dark:border-[#191e3a] rounded-md p-4 mb-5 bg-white dark:bg-black",children:[r("h6",{className:"text-lg font-bold mb-5",children:[i.name," 정보"]}),r("div",{className:"flex flex-col sm:flex-row",children:[e("div",{className:"ltr:sm:mr-4 rtl:sm:ml-4 w-full sm:w-2/12 mb-5",children:e("img",{src:"https://www.handmk.com/news/photo/202306/16714_40371_5250.jpg",alt:"img",className:"w-20 h-20 md:w-32 md:h-32 rounded-full object-cover mx-auto"})}),r("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-2 gap-5",children:[r("div",{children:[e("label",{htmlFor:"name",children:"이름"}),e("div",{className:"form-input",children:i.name})]}),r("div",{children:[e("label",{htmlFor:"sex",children:"성별"}),e("div",{className:"form-input",children:i.sex?"남성":"여성"})]}),r("div",{children:[e("label",{htmlFor:"id",children:"학생의 아이디"}),e("div",{className:"form-input",children:i.id})]}),r("div",{children:[e("label",{htmlFor:"phone",children:"전화번호"}),e("div",{className:"form-input",children:i.phoneNumber})]}),r("div",{children:[e("label",{htmlFor:"email",children:"이메일"}),e("div",{className:"form-input",children:i.email})]})]})]})]})})})}),e(n.Panel,{children:e("div",{children:r("div",{className:"flex items-start pt-5",children:[e("div",{className:"h-20 w-20 flex-none ltr:mr-4 rtl:ml-4",children:e("img",{src:"/assets/images/profile-34.jpeg",alt:"img",className:"m-0 h-20 w-20 rounded-full object-cover ring-2 ring-[#ebedf2] dark:ring-white-dark"})}),e("div",{className:"flex-auto",children:e("h1",{children:"구현중입니닷"})})]})})}),e(n.Panel,{children:r("div",{className:"panel",children:[e("div",{className:"table-responsive mb-5",children:r("table",{children:[e("thead",{children:r("tr",{children:[e("th",{children:"이름"}),e("th",{children:"학교"}),e("th",{children:"생년월일"}),e("th",{children:"등록일"}),e("th",{className:"text-center",children:"선택"})]})}),e("tbody",{children:u.map(t=>r("tr",{children:[e("td",{children:e("div",{className:"whitespace-nowrap",children:t.user.name})}),e("td",{children:t.user.schoolName}),e("td",{children:Math.floor(t.user.birthdate/1e4)>40?r(o,{children:["19",Math.floor(t.user.birthdate/1e4),"년 ",Math.floor(t.user.birthdate/100%100),"월 ",Math.floor(t.user.birthdate%100),"일"]}):Math.floor(t.user.birthdate/1e4)<10?r(o,{children:["200",Math.floor(t.user.birthdate/1e4),"년 ",Math.floor(t.user.birthdate/100%100),"월 ",Math.floor(t.user.birthdate%100),"일"]}):r(o,{children:["20",Math.floor(t.user.birthdate/1e4),"년 ",Math.floor(t.user.birthdate/100%100),"월 ",Math.floor(t.user.birthdate%100),"일"]})}),r("td",{children:[t.regDate[0],"년 ",t.regDate[1],"월 ",t.regDate[2],"일"]}),e("td",{className:"text-center",children:e(I,{content:"전환",children:e("button",{type:"button",onClick:()=>y(t.user.userId),children:e(L,{className:"m-auto"})})})})]},t.id))})]})}),r("div",{className:"relative text-white-dark flex justify-end",children:[e("button",{type:"button",onClick:()=>c(!0),className:"btn btn-primary",children:"학생 추가"}),e(d,{appear:!0,show:h,as:l.Fragment,children:r(b,{as:"div",open:h,onClose:()=>{c(!1)},children:[e(d.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0"})}),e("div",{id:"register_modal",className:"fixed inset-0 z-[999] overflow-y-auto bg-[black]/60",children:e("div",{className:"flex min-h-screen items-start justify-center px-4",children:e(d.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:r(b.Panel,{className:"panel my-8 w-full max-w-sm overflow-hidden rounded-lg border-0 py-1 px-4 text-black dark:text-white-dark",children:[r("div",{className:"flex items-center justify-between p-5 text-lg font-semibold dark:text-white",children:[e("h5",{children:"학생 추가하기"}),e("button",{type:"button",onClick:()=>c(!1),className:"text-white-dark hover:text-dark",children:e(S,{className:"w-5 h-5"})})]}),e("div",{className:"p-5",children:r("form",{children:[r("div",{className:"relative mb-4",children:[e("h2",{children:"연결하고자 하는 유저코드를 입력해 주세요."}),e("span",{className:"absolute top-1/2 -translate-y-1/2 ltr:left-3 rtl:right-3 dark:text-white-dark",children:e(f,{className:"w-5 h-5"})}),e("input",{type:"text",placeholder:"유저코드",className:"form-input ltr:pl-10 rtl:pr-10",id:"userCode",value:m,onChange:N})]}),e("button",{type:"button",onClick:()=>w(m),className:"btn btn-primary w-full",children:"추가하기"})]})})]})})})})]})})]})]})})]})]})})})]})};export{A as default};
