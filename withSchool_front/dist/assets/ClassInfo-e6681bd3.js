import{r as t,b as s,j as e,L as h}from"./index-e6579e08.js";import{b as m}from"./school-623913e2.js";import{a as f}from"./subject-d6828b22.js";import{b as u}from"./auth-ba940cfd.js";const b="http://223.130.134.181:8080",g=async l=>{try{const a=await fetch(`${b}/classes/${l}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(a.ok)return await a.json();{const o=await a.text();throw console.error("Failed to fetch school notice:",o),new Error(o)}}catch(a){throw console.error("Error fetching school notice:",a),a}},S=()=>{t.useState(!1),t.useState(""),t.useState([]);const[l,a]=t.useState([]);t.useState(""),t.useState(!1),t.useState("");const[o,i]=t.useState({class:{grade:"",inClass:""},users:[]}),[n,d]=t.useState({name:"",phoneNumber:""});return t.useEffect(()=>{(async()=>{try{const r=await u(localStorage.getItem("id"));console.log(r),d(r)}catch(r){console.error("Error get UserInfo",r)}})()},[]),t.useEffect(()=>{(async()=>{try{const r=await f();console.log(r)}catch(r){console.error("Error fetching student list:",r)}})()},[]),t.useEffect(()=>{(async()=>{try{const r=await m(localStorage.getItem("TargetStudent"));a(r),console.log(r)}catch(r){console.error("Error fetching student data:",r)}})()},[]),t.useEffect(()=>{(async()=>{try{const r=await g(localStorage.getItem("classId"));console.log(r),i(r)}catch(r){console.error("Error fetching class data:",r)}})()},[]),s("div",{children:[s("ul",{className:"flex space-x-2 y-3 rtl:space-x-reverse",children:[e("li",{children:e(h,{to:"/teacher/home",className:"text-primary hover:underline",children:"교사"})}),e("li",{className:"before:content-['/'] ltr:before:mr-2 rtl:before:ml-2",children:e("span",{children:"반 관리"})}),e("li",{className:"before:content-['/'] ltr:before:mr-2 rtl:before:ml-2",children:e("span",{children:"기본 정보"})})]}),e("div",{className:"active pt-5",children:e("div",{children:s("form",{className:"border border-[#ebedf2] dark:border-[#191e3a] rounded-md p-4 mb-5 bg-white dark:bg-black",children:[e("h6",{className:"text-lg font-bold mb-5",children:"학급 기본정보"}),e("div",{className:"flex flex-col sm:flex-row",children:s("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-2 gap-5",children:[s("div",{children:[e("label",{htmlFor:"name",children:"학년"}),e("div",{className:"form-input",children:o.class.grade})]}),s("div",{children:[e("label",{htmlFor:"sex",children:"반"}),e("div",{className:"form-input",children:o.class.inClass})]}),s("div",{children:[e("label",{htmlFor:"id",children:"담임"}),e("div",{className:"form-input",children:n.name})]}),s("div",{children:[e("label",{htmlFor:"phone",children:"담임 연락처"}),e("div",{className:"form-input",children:n.phoneNumber})]}),s("div",{children:[e("label",{htmlFor:"email",children:"학생 목록"}),e("div",{className:"form-input",children:e("div",{className:"table-responsive mb-5",children:s("table",{className:"table-hover",children:[e("thead",{children:s("tr",{className:"!bg-transparent dark:!bg-transparent",children:[e("th",{children:"유저 ID"}),e("th",{children:"ID"}),e("th",{children:"이름"}),e("th",{className:"text-center"})]})}),e("tbody",{children:o.users.map(c=>s("tr",{children:[e("td",{children:c.userId}),e("td",{children:e("div",{className:"whitespace-nowrap",children:c.userName})}),e("td",{children:c.name})]},c.userId))})]})})})]})]})})]})})})]})};export{S as default};
